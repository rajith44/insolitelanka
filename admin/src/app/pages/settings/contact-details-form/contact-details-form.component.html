<!-- start page title -->
<app-pagetitle title="Contact Details" [breadcrumbItems]="breadCrumbItems"></app-pagetitle>
<!-- end page title -->

@if (loading) {
  <div class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
} @else {
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Contact Information</h4>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Email</label>
                  <input type="email" class="form-control" formControlName="email" placeholder="contact@example.com" />
                  @if (form.get('email')?.invalid && form.get('email')?.touched) {
                    <div class="invalid-feedback d-block">Please enter a valid email.</div>
                  }
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Phone</label>
                  <input type="text" class="form-control" formControlName="phone" placeholder="+1 234 567 890" />
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Address</label>
              <textarea class="form-control" formControlName="address" rows="3" placeholder="Full address"></textarea>
            </div>
            <div class="mb-3">
              <label class="form-label">Map Embed (HTML / iframe)</label>
              <textarea class="form-control" formControlName="mapEmbed" rows="4" placeholder="Paste map embed code"></textarea>
            </div>
            <hr />
            <h5 class="mb-3">Social Links</h5>
            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Facebook URL</label>
                  <input type="url" class="form-control" formControlName="facebookUrl" placeholder="https://facebook.com/..." />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Twitter URL</label>
                  <input type="url" class="form-control" formControlName="twitterUrl" placeholder="https://twitter.com/..." />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Instagram URL</label>
                  <input type="url" class="form-control" formControlName="instagramUrl" placeholder="https://instagram.com/..." />
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">LinkedIn URL</label>
                  <input type="url" class="form-control" formControlName="linkedinUrl" placeholder="https://linkedin.com/..." />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
              <i class="bx bx-save me-1"></i> Update Contact Details
            </button>
            <button type="button" class="btn btn-light ms-2" (click)="cancel()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </form>
}
